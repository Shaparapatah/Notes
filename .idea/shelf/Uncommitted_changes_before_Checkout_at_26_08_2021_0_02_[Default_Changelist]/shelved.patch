Index: app/src/main/java/com/shaparapatah/notes/ui/ListNotesFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.shaparapatah.notes.ui;\r\n\r\nimport android.content.res.Configuration;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport com.shaparapatah.notes.data.MyOnClickListener;\r\nimport com.shaparapatah.notes.R;\r\nimport com.shaparapatah.notes.data.CardSource;\r\nimport com.shaparapatah.notes.data.CardSourceImpl;\r\n\r\n\r\npublic class ListNotesFragment extends Fragment {\r\n\r\n    Note currentNotes;\r\n    public static String KEY_NOTE = \"note\";\r\n    boolean isLandScape;\r\n\r\n\r\n    public static ListNotesFragment newInstance() {\r\n        return new ListNotesFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        isLandScape = getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE;\r\n\r\n        if (savedInstanceState != null) {\r\n            currentNotes = savedInstanceState.getParcelable(KEY_NOTE);\r\n        }\r\n\r\n\r\n        if (isLandScape)\r\n            if (currentNotes != null) {\r\n                showNotes(currentNotes.getToDo());\r\n            } else {\r\n                showNotes(0);\r\n            }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        outState.putParcelable(KEY_NOTE, currentNotes);\r\n        super.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_list_notes, container, false);\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        CardSource data = new CardSourceImpl(getResources()).init();\r\n        initRecyclerView(recyclerView, data);\r\n        return view;\r\n    }\r\n\r\n    private void initRecyclerView(RecyclerView recyclerView, CardSource data) {\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        NoteAdapter noteAdapter = new NoteAdapter(data);\r\n        noteAdapter.setOnMyClickListener(new MyOnClickListener() {\r\n            @Override\r\n            public void onMyClick(View view, int position) {\r\n                Toast.makeText(getContext(), \"Тяжёлая обработка для \" + position, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        recyclerView.setAdapter(noteAdapter);\r\n    }\r\n\r\n\r\n    private void showNotes(int index) {\r\n        currentNotes = new Note((getResources().getStringArray(R.array.notesList)[index]),\r\n                index);\r\n        if (isLandScape) {\r\n            showNotesLand();\r\n        } else {\r\n            showNotesPort();\r\n        }\r\n    }\r\n\r\n\r\n    private void showNotesPort() {\r\n        requireActivity()\r\n                .getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.listNotes_container, NotesFragment.newInstance(currentNotes))\r\n                .addToBackStack(\"\")\r\n                .commit();\r\n\r\n    }\r\n\r\n    private void showNotesLand() {\r\n        requireActivity()\r\n                .getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.notesFragment_container, NotesFragment.newInstance(currentNotes))\r\n                .commit();\r\n\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/shaparapatah/notes/ui/ListNotesFragment.java b/app/src/main/java/com/shaparapatah/notes/ui/ListNotesFragment.java
--- a/app/src/main/java/com/shaparapatah/notes/ui/ListNotesFragment.java	(revision 0629a4be0e7442e08898e6acb860b6b5a1773a55)
+++ b/app/src/main/java/com/shaparapatah/notes/ui/ListNotesFragment.java	(date 1629925319838)
@@ -23,6 +23,9 @@
     Note currentNotes;
     public static String KEY_NOTE = "note";
     boolean isLandScape;
+    private RecyclerView recyclerView;
+    private NoteAdapter noteAdapter;
+    private CardSource data;
 
 
     public static ListNotesFragment newInstance() {
@@ -59,8 +62,8 @@
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
         View view = inflater.inflate(R.layout.fragment_list_notes, container, false);
-        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);
-        CardSource data = new CardSourceImpl(getResources()).init();
+        recyclerView = view.findViewById(R.id.recyclerView);
+        data = new CardSourceImpl(getResources()).init();
         initRecyclerView(recyclerView, data);
         return view;
     }
@@ -72,7 +75,7 @@
         LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());
         recyclerView.setLayoutManager(layoutManager);
 
-        NoteAdapter noteAdapter = new NoteAdapter(data);
+        noteAdapter = new NoteAdapter(data);
         noteAdapter.setOnMyClickListener(new MyOnClickListener() {
             @Override
             public void onMyClick(View view, int position) {
